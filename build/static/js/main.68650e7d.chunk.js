(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{21:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(16),c=n.n(a),u=(n(21),n(4)),o=n(0),i=function(e){var t=e.filtered,n=e.persons,r=e.handleDelete;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Numbers"}),t.length<1?n.map((function(e){return Object(o.jsxs)("p",{children:[e.name," ",e.number,Object(o.jsx)("button",{onClick:function(){return r(e.id)},children:"delete"})]},e.name)})):t.map((function(e){return Object(o.jsxs)("p",{children:[e.name," ",e.number,Object(o.jsx)("button",{onClick:function(){return r(e.id)},children:"delete"})]},e.name)}))]})},s=function(e){var t=e.search,n=e.handleSearch;return Object(o.jsxs)("div",{children:["filter shown with",Object(o.jsx)("input",{value:t,onChange:n})]})},d=function(e){var t=e.handleSubmit,n=e.newName,r=e.newNumber,a=e.handleName,c=e.handleNumber;return Object(o.jsx)("div",{children:Object(o.jsxs)("form",{onSubmit:t,children:[Object(o.jsxs)("div",{children:["name: ",Object(o.jsx)("input",{value:n,onChange:a})]}),Object(o.jsxs)("div",{children:["number: ",Object(o.jsx)("input",{value:r,onChange:c})]}),Object(o.jsx)("div",{children:Object(o.jsx)("button",{type:"submit",children:"add"})})]})})},l=n(3),b=n.n(l),j=n(5),h=n(6),f=n.n(h),p="https://rocky-waters-09518.herokuapp.com/api/persons",m={getAll:function(){var e=Object(j.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.a.get(p),e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(j.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.a.post(p,t),e.next=3,n;case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(j.a)(b.a.mark((function e(t,n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.a.delete("".concat(p,"/").concat(t),n),e.next=3,r;case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},O=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),l=Object(u.a)(c,2),b=l[0],j=l[1],h=Object(r.useState)(""),f=Object(u.a)(h,2),p=f[0],O=f[1],v=Object(r.useState)(""),x=Object(u.a)(v,2),w=x[0],g=x[1],k=Object(r.useState)([]),S=Object(u.a)(k,2),N=S[0],y=S[1];Object(r.useEffect)((function(){m.getAll().then((function(e){a(e)}))}),[]);return Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{children:"Phonebook"}),Object(o.jsx)(s,{search:w,handleSearch:function(e){var t=e.target.value;g(t);var r=n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));y(r)}}),Object(o.jsx)("h2",{children:"Add a new"}),Object(o.jsx)(d,{handleSubmit:function(e){e.preventDefault(),n.filter((function(e){return e.name===b})).length>0?alert("".concat(b," is already added to phonebook")):m.create({name:b,number:p}).then((function(e){a(n.concat(e))})),j(""),O("")},handleName:function(e){var t=e.target.value;j(t)},handleNumber:function(e){var t=e.target.value;O(t.trim())},newName:b,newNumber:p}),Object(o.jsx)(i,{filtered:N,persons:n,handleDelete:function(e){var t=n.find((function(t){return t.id===e}));console.log(t),alert("do you want to delete ".concat(t.name,"?")),m.remove(e,t).then((function(t){a(n.filter((function(t){return t.id!==e})))}))}})]})};c.a.render(Object(o.jsx)(O,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.68650e7d.chunk.js.map