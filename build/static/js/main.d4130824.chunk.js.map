{"version":3,"sources":["components/Contacts.jsx","components/Filter.jsx","components/PersonForm.jsx","services/personService.js","App.jsx","index.js"],"names":["Contacts","filtered","persons","handleDelete","length","map","p","name","number","onClick","id","Filter","search","handleSearch","value","onChange","PersonForm","handleSubmit","newName","newNumber","handleName","handleNumber","onSubmit","type","url","services","getAll","a","request","axios","get","response","data","create","newObject","post","remove","delete","App","useState","setPersons","setNewName","setNewNumber","setSearch","setFiltered","useEffect","then","e","target","toShow","filter","person","toLowerCase","includes","preventDefault","alert","concat","trim","find","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d4130824.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Contacts = ({ filtered, persons, handleDelete }) => {\n  return (\n    <div>\n      <h2>Numbers</h2>\n      {filtered.length < 1\n        ? persons.map((p) => {\n            return (\n              <p key={p.name}>\n                {p.name} {p.number}\n                <button onClick={() => handleDelete(p.id)}>delete</button>\n              </p>\n            );\n          })\n        : filtered.map((p) => {\n            return (\n              <p key={p.name}>\n                {p.name} {p.number}\n                <button onClick={() => handleDelete(p.id)}>delete</button>\n              </p>\n            );\n          })}\n    </div>\n  );\n};\n\nexport default Contacts;\n","const Filter = ({ search, handleSearch }) => {\n  return (\n    <div>\n      filter shown with\n      <input value={search} onChange={handleSearch} />\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  handleSubmit,\n  newName,\n  newNumber,\n  handleName,\n  handleNumber,\n}) => {\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          name: <input value={newName} onChange={handleName} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\nconst url = \"http://localhost:5000/api/persons\";\n\nconst getAll = async () => {\n  const request = axios.get(url);\n  const response = await request;\n  return response.data;\n};\n\nconst create = async (newObject) => {\n  const request = axios.post(url, newObject);\n  const response = await request;\n  return response.data;\n};\n\nconst remove = async (id, newObject) => {\n  const request = axios.delete(`${url}/${id}`, newObject);\n  const response = await request;\n  return response.data;\n};\n\nconst services = { getAll, create, remove };\n\nexport default services;\n","import React, { useState, useEffect } from \"react\";\nimport Contacts from \"./components/Contacts\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\n// import axios from \"axios\";\n// import serices from \"./services/personService\";\nimport services from \"./services/personService\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [search, setSearch] = useState(\"\");\n  const [filtered, setFiltered] = useState([]);\n\n  useEffect(() => {\n    services.getAll().then((response) => {\n      // console.log(response.data)\n      const data = response;\n      setPersons(data);\n    });\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // console.log(e.target);\n    const names = persons.filter((p) => p.name === newName);\n    names.length > 0\n      ? alert(`${newName} is already added to phonebook`)\n      : services\n          .create({\n            name: newName,\n            number: newNumber,\n          })\n          .then((response) => {\n            setPersons(persons.concat(response));\n          });\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const handleName = (e) => {\n    const name = e.target.value;\n    setNewName(name);\n  };\n  const handleNumber = (e) => {\n    const number = e.target.value;\n    setNewNumber(number.trim());\n  };\n\n  const handleSearch = (e) => {\n    const value = e.target.value;\n    setSearch(value);\n    const toShow = persons.filter((person) => {\n      return person.name.toLowerCase().includes(value.toLowerCase());\n    });\n\n    // console.log(toShow);\n    setFiltered(toShow);\n  };\n\n  const handleDelete = (id) => {\n    // console.log(`the id of this person is ${id} `);\n    const person = persons.find((p) => p.id === id);\n    console.log(person);\n    alert(`do you want to delete ${person.name}?`);\n    services.remove(id, person).then((response) => {\n      setPersons(persons.filter((p) => p.id !== id));\n    });\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter search={search} handleSearch={handleSearch} />\n      <h2>Add a new</h2>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        handleName={handleName}\n        handleNumber={handleNumber}\n        newName={newName}\n        newNumber={newNumber}\n      />\n      {/* <div>debug: {newName}</div> */}\n      <Contacts\n        filtered={filtered}\n        persons={persons}\n        handleDelete={handleDelete}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}